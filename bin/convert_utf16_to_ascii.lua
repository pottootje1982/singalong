require 'replace'

local utf16_to_ascii = 
{
  -- UTF16 conversions
  [[√Ä]],                         [[¿]],
  [[√Å]],                          [[¡]],
  [[√Ç]],                         [[¬]],
  [[√É]],                         [[√]],
  [[√Ñ]],                         [[ƒ]],
  [[√Ö]],                         [[≈]],
  [[√Ü]],                         [[∆]],
  [[√á]],                         [[«]],
  [[√à]],                         [[»]],
  [[√â]],                         [[…]],
  [[√ä]],                         [[ ]],
  [[√ã]],                         [[À]],
  [[√å]],                         [[Ã]],
  [[√ç]],                          [[Õ]],
  [[√é]],                         [[Œ]],
  [[√è]],                          [[œ]],
  [[√ê]],                          [[–]],
  [[√ë]],                         [[—]],
  [[√í]],                         [[“]],
  [[√ì]],                         [[”]],
  [[√î]],                         [[‘]],
  [[√ï]],                         [[’]],
  [[√ñ]],                         [[÷]],
  [[√ó]],                         [[◊]],
  [[√ò]],                         [[ÿ]],
  [[√ô]],                         [[Ÿ]],
  [[√ö]],                         [[⁄]],
  [[√õ]],                         [[€]],
  [[√ú]],                         [[‹]],
  [[√ù]],                          [[›]],
  [[√û]],                         [[ﬁ]],
  [[√ü]],                         [[ﬂ]],
  [[√†]],                         [[‡]],
  [[√°]],                         [[·]],
  [[√¢]],                         [[‚]],
  [[√£]],                         [[„]],
  [[√§]],                         [[‰]],
  [[√•]],                         [[Â]],
  [[√¶]],                         [[Ê]],
  [[√ß]],                         [[Á]],
  [[√®]],                         [[Ë]],
  [[√©]],                         [[È]],
  [[√™]],                         [[Í]],
  [[√´]],                         [[Î]],
  [[√¨]],                         [[Ï]],
  [[√≠]],                         [[Ì]],
  [[√Æ]],                         [[Ó]],
  [[√Ø]],                         [[Ô]],
  [[√∞]],                         [[]],
  [[√±]],                         [[Ò]],
  [[√≤]],                         [[Ú]],
  [[√≥]],                         [[Û]],
  [[√¥]],                         [[Ù]],
  [[√µ]],                         [[ı]],
  [[√∂]],                         [[ˆ]],
  [[√∑]],                         [[˜]],
  [[√∏]],                         [[¯]],
  [[√π]],                         [[˘]],
  [[√∫]],                         [[˙]],
  [[√ª]],                         [[˚]],
  [[√º]],                         [[¸]],
  [[√Ω]],                         [[˝]],
  [[√æ]],                         [[˛]],
  [[√ø]],                         [[ˇ]],
  [[≈í]],                         [[å]],
  [[≈ì]],                         [[ú]],
}

return 
function(str)
  return replace(str, utf16_to_ascii)
end